{"version":3,"file":"js/976.aa4c3b45.js","mappings":"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","sources":["webpack://adminsys/./src/views/layout/power/roles.vue","webpack://adminsys/src/views/layout/power/roles.vue","webpack://adminsys/./src/views/layout/power/roles.vue?b06c","webpack://adminsys/./src/views/layout/power/roles.vue?b5d8","webpack://adminsys/./src/api/power.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"roles-container\"},[_c('el-card',{staticClass:\"box-card\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addroleinfo.roleName),expression:\"addroleinfo.roleName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"角色名称\"},domProps:{\"value\":(_vm.addroleinfo.roleName)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.addroleinfo, \"roleName\", $event.target.value)}}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.addroleinfo.roleDesc),expression:\"addroleinfo.roleDesc\"}],attrs:{\"type\":\"text\",\"placeholder\":\"角色描述\"},domProps:{\"value\":(_vm.addroleinfo.roleDesc)},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.addroleinfo, \"roleDesc\", $event.target.value)}}}),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addrole}},[_vm._v(\"添加角色\")]),_c('el-table',{attrs:{\"data\":_vm.rolesList}},[_c('el-table-column',{attrs:{\"type\":\"index\",\"label\":\"#\"}}),_c('el-table-column',{attrs:{\"type\":\"expand\",\"label\":\"展开\"},scopedSlots:_vm._u([{key:\"default\",fn:function({ row }){return _vm._l((row.children),function(item1,in1){return _c('el-row',{key:item1.id,attrs:{\"gutter\":20}},[_c('div',{staticClass:\"rolesitem\"},[_c('el-col',{attrs:{\"span\":4}},[_c('el-tag',{attrs:{\"closable\":\"\",\"type\":\"info\"}},[_vm._v(_vm._s(item1.authName))])],1),_c('el-col',{attrs:{\"span\":20}},[_c('hr'),_vm._l((item1.children),function(item2,in2){return _c('el-row',{key:item2.id,attrs:{\"gutter\":20}},[_c('el-col',{attrs:{\"span\":5}},[_c('el-tag',{key:item2.id,attrs:{\"closable\":\"\",\"type\":\"success\"}},[_vm._v(_vm._s(item2.authName))])],1),_c('el-col',{attrs:{\"span\":14}},_vm._l((item2.children),function(item3,in3){return _c('el-tag',{key:item3.id,attrs:{\"closable\":\"\",\"type\":\"warning\",\"plain\":\"\"},on:{\"close\":function($event){return _vm.handleClose(item3, row.id, row)}}},[_vm._v(_vm._s(item3.authName))])}),1)],1)})],2)],1)])})}}])}),_c('el-table-column',{attrs:{\"label\":\"ID\",\"prop\":\"id\"}}),_c('el-table-column',{attrs:{\"label\":\"角色描述\",\"prop\":\"roleDesc\"}}),_c('el-table-column',{attrs:{\"label\":\"角色名称\",\"prop\":\"roleName\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function({row}){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.edituser_row(row)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.deluser_row(row)}}}),_c('el-tooltip',{staticClass:\"item\",attrs:{\"effect\":\"dark\",\"content\":\"分配角色\",\"placement\":\"right-start\"}},[_c('el-button',{attrs:{\"type\":\"success\",\"icon\":\"el-icon-set-up\"},on:{\"click\":function($event){return _vm.assignment_roles(row)}}})],1)]}}])})],1)],1),_c('el-dialog',{attrs:{\"title\":\"提示\",\"visible\":_vm.rightsVisible,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.rightsVisible=$event}}},[_c('el-tree',{ref:\"rightsTree\",attrs:{\"node-key\":\"id\",\"default-checked-keys\":_vm.defKEY,\"show-checkbox\":\"\",\"data\":_vm.rolesList_tree,\"props\":_vm.defaultProps}}),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.rightsVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.seedroles}},[_vm._v(\"确 定\")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"roles-container\">\r\n    <el-card class=\"box-card\">\r\n      <!-- roles-测试文本 -->\r\n      <input type=\"text\" v-model=\"addroleinfo.roleName\" placeholder=\"角色名称\">\r\n      <input type=\"text\" v-model=\"addroleinfo.roleDesc\" placeholder=\"角色描述\">\r\n      <el-button type=\"primary\" @click=\"addrole\">添加角色</el-button>\r\n      <el-table :data=\"rolesList\">\r\n        <el-table-column type=\"index\" label=\"#\"></el-table-column>\r\n        <el-table-column type=\"expand\" label=\"展开\">\r\n          <template #default=\"{ row }\">\r\n            <!-- 展开页面 -->\r\n            <el-row v-for=\"(item1, in1)  in row.children\" :key=\"item1.id\" :gutter=\"20\">\r\n              <div class=\"rolesitem\">\r\n                <!-- 一级权限 -->\r\n                <el-col :span=\"4\">\r\n                  <el-tag closable type=\"info\">{{ item1.authName }}</el-tag>\r\n                </el-col>\r\n                <el-col :span=\"20\">\r\n                  <hr>\r\n                  <!-- 二级权限 -->\r\n                  <el-row v-for=\"(item2, in2) in item1.children\" :key=\"item2.id\" :gutter=\"20\">\r\n                    <el-col :span=\"5\">\r\n                      <el-tag closable type=\"success\" :key=\"item2.id\">{{ item2.authName\r\n                      }}</el-tag>\r\n\r\n                    </el-col>\r\n                    <!-- 三级权限 -->\r\n                    <el-col :span=\"14\">\r\n                      <!-- {{ rightId权限id item3.id }}{{ roleId角色id row.id }} -->\r\n                      <el-tag @close=\"handleClose(item3, row.id, row)\" closable v-for=\"(item3, in3) in item2.children \"\r\n                        :key=\"item3.id\" type=\"warning\" plain>{{\r\n                          item3.authName }}</el-tag>\r\n                    </el-col>\r\n                  </el-row>\r\n\r\n                </el-col>\r\n\r\n              </div>\r\n            </el-row>\r\n\r\n            <!-- 展开结束 -->\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"ID\" prop=\"id\"></el-table-column>\r\n        <el-table-column label=\"角色描述\" prop=\"roleDesc\"></el-table-column>\r\n        <el-table-column label=\"角色名称\" prop=\"roleName\"></el-table-column>\r\n        <el-table-column label=\"操作\">\r\n          <template slot-scope=\"{row}\">\r\n            <el-button type=\"primary\" @click=\"edituser_row(row)\" icon=\"el-icon-edit\"></el-button>\r\n            <el-button type=\"danger\" @click=\"deluser_row(row)\" icon=\"el-icon-delete\"></el-button>\r\n            <el-tooltip class=\"item\" effect=\"dark\" content=\"分配角色\" placement=\"right-start\">\r\n              <el-button type=\"success\" icon=\"el-icon-set-up\" @click=\"assignment_roles(row)\"></el-button>\r\n            </el-tooltip>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n    </el-card>\r\n    <!-- 分配权限对话框 -->\r\n    <el-dialog title=\"提示\" :visible.sync=\"rightsVisible\" width=\"50%\">\r\n      <el-tree ref=\"rightsTree\" node-key=\"id\" :default-checked-keys=\"defKEY\" show-checkbox :data=\"rolesList_tree\"\r\n        :props=\"defaultProps\"></el-tree>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"rightsVisible = false\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"seedroles\">确 定</el-button>\r\n      </span>\r\n    </el-dialog>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { deleteTheRoleAPI, addroleAPI, getRolesListAPI, delroleAPI, getRightsListAPI, roleAuthorizationAPI } from \"@/api/power.js\"\r\nexport default {\r\n  components: {},\r\n  name: \"roles\",\r\n  props: [],\r\n  data() {\r\n    return {\r\n      id: '',\r\n      rightsVisible: false,\r\n      rolesList: [],\r\n      rolesList_tree: [],\r\n      defaultProps: {\r\n        children: 'children',\r\n        label: 'authName'\r\n      },\r\n      defKEY: [],\r\n      addroleinfo: {}\r\n    };\r\n  },\r\n  methods: {\r\n    //删除角色\r\n    async deluser_row(row) {\r\n      try {\r\n        await deleteTheRoleAPI(row.id)\r\n        this.getRolesList()\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    //添加角色\r\n    async addrole() {\r\n      try {\r\n        await addroleAPI(this.addroleinfo)\r\n        this.getRolesList()\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    //分配权限\r\n    async seedroles() {\r\n      let slect = [...this.$refs.rightsTree.getCheckedKeys(), ...this.$refs.rightsTree.getHalfCheckedKeys()].join(',')\r\n      try {\r\n        await roleAuthorizationAPI(this.id, slect)\r\n        this.getRolesList()\r\n      } catch (error) {\r\n\r\n      }\r\n\r\n      this.rightsVisible = false\r\n    },\r\n    // 分配权限前\r\n    assignment_roles(row) {\r\n      this.id = row.id\r\n      this.defKEY = []\r\n      this.find3id(row, this.defKEY)\r\n      this.$nextTick(() => {\r\n        this.$refs.rightsTree.setCheckedKeys(this.defKEY)\r\n      })\r\n      this.rightsVisible = !this.rightsVisible\r\n    },\r\n    //递归找将当前用户的三级权限id\r\n    find3id(item, nodeid) {\r\n      if (!item.children) {\r\n        return nodeid.push(item.id)\r\n      }\r\n      item.children.forEach(element => {\r\n        this.find3id(element, nodeid)\r\n      });\r\n    },\r\n    //删除权限\r\n    async handleClose(rightId, roleId, row) {\r\n      try {\r\n        let { id } = rightId;\r\n        let data = await delroleAPI(roleId, id)\r\n        row.children = data\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n    },\r\n    //获取全部权限\r\n    async getRolesList() {\r\n      try {\r\n        this.rolesList = await getRolesListAPI()\r\n      } catch (error) {\r\n\r\n      }\r\n    },\r\n    //获取树形权限列表\r\n    async getRolesList_tree() {\r\n      try {\r\n        this.rolesList_tree = await getRightsListAPI('tree')\r\n      } catch (error) {\r\n\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n\r\n  },\r\n  watch: {},\r\n  created() {\r\n    this.getRolesList()\r\n    this.getRolesList_tree()\r\n  },\r\n  mounted() { },\r\n};\r\n</script>\r\n<style lang='less' scpoed>\r\n.el-row {\r\n  margin: 10px 0;\r\n  text-align: center;\r\n\r\n  .el-col .el-col-14 {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    align-items: start;\r\n\r\n    .el-tag {\r\n      margin: 8px 10px;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./roles.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./roles.vue?vue&type=template&id=789e9881&\"\nimport script from \"./roles.vue?vue&type=script&lang=js&\"\nexport * from \"./roles.vue?vue&type=script&lang=js&\"\nimport style0 from \"./roles.vue?vue&type=style&index=0&id=789e9881&prod&lang=less&scpoed=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ajax from '@/config/apiServe.js'\r\nfunction getRightsListAPI(type = 'list') {\r\n  return ajax({\r\n    method: 'GET',\r\n    url: `/rights/${type}`,\r\n  })\r\n}\r\n\r\n\r\nfunction getRolesListAPI(tree) {\r\n  return ajax({\r\n    method: 'GET',\r\n    url: '/roles',\r\n  })\r\n}\r\n\r\n\r\n\r\n// 删除权限role\r\nfunction delroleAPI(roleId, rightId) {\r\n  return ajax({\r\n    method: 'delete',\r\n    url: `/roles/${roleId}/rights/${rightId}`,\r\n  })\r\n}\r\n\r\n\r\n// ### 1.5.6.roleAuthorization\r\n\r\n//   - 请求路径：roles /: roleId / rights\r\n//     - 请求方法：post\r\n\r\nfunction roleAuthorizationAPI(roleId, rids) {\r\n  return ajax({\r\n    method: 'POST',\r\n    url: `/roles/${roleId}/rights`,\r\n    data: {\r\n      rids\r\n    }\r\n  })\r\n}\r\n\r\n\r\n\r\n\r\n/**### 1.5.2.添加角色\r\n * \r\n *参数名   | 参数说明 | 备注     |\r\n| -------- | -------- | -------- |\r\n| roleName | 角色名称 | 不能为空 |\r\n| roleDesc | 角色描述 | 可以为空 |\r\n */\r\nfunction addroleAPI(data) {\r\n  return ajax({\r\n    method: 'post',\r\n    url: '/roles',\r\n    data\r\n  })\r\n}\r\n\r\n/**\r\n * 删除角色\r\n *- 请求路径：roles/:id\r\n- 请求方法：delete\r\n- 请求参数\r\n\r\n| 参数名 | 参数说明 | 备注                  |\r\n| ------ | -------- | --------------------- |\r\n| :id    | 角色 ID  | 不能为空`携带在url中` |\r\n */\r\nfunction deleteTheRoleAPI(id) {\r\n  return ajax({\r\n    method: 'delete',\r\n    url: `roles/${id}`,\r\n  })\r\n}\r\n\r\n\r\nexport {\r\n  getRightsListAPI,\r\n  getRolesListAPI,\r\n  delroleAPI,\r\n  roleAuthorizationAPI,\r\n  addroleAPI,\r\n  deleteTheRoleAPI\r\n}"],"names":["render","_vm","this","_c","_self","staticClass","directives","name","rawName","value","addroleinfo","roleName","expression","attrs","domProps","on","$event","target","composing","$set","roleDesc","addrole","_v","rolesList","scopedSlots","_u","key","fn","row","_l","children","item1","in1","id","_s","authName","item2","in2","item3","in3","handleClose","edituser_row","deluser_row","assignment_roles","rightsVisible","ref","defKEY","rolesList_tree","defaultProps","slot","seedroles","staticRenderFns","components","props","data","label","methods","deleteTheRoleAPI","getRolesList","error","console","log","addroleAPI","slect","$refs","rightsTree","getCheckedKeys","getHalfCheckedKeys","join","roleAuthorizationAPI","find3id","$nextTick","setCheckedKeys","item","nodeid","push","forEach","element","rightId","roleId","delroleAPI","getRolesListAPI","getRightsListAPI","computed","watch","created","getRolesList_tree","mounted","component","type","ajax","method","url","tree","rids"],"sourceRoot":""}