"use strict";(self["webpackChunkadminsys"]=self["webpackChunkadminsys"]||[]).push([[272],{4272:function(e,t,a){a.r(t),a.d(t,{default:function(){return g}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"cate-container"},[t("el-card",[t("el-button",{on:{click:function(t){e.addcate_Visible=!e.addcate_Visible}}},[e._v("添加分类")]),t("br"),t("br"),t("el-tree",{attrs:{"show-checkbox":!1,"node-key":"cat_id",data:e.cateList,props:e.defProps},scopedSlots:e._u([{key:"default",fn:function({node:a,data:i}){return t("span",{},[t("el-tag",{attrs:{type:0==i.cat_level?"danger":1==i.cat_level?"success":"warning"}},[e._v(e._s(0==i.cat_level?"一级分类":1==i.cat_level?"二级分类":"三级分类"))]),t("span",[e._v(e._s(a.label))]),t("i",{class:i.cat_deleted?"el-icon-circle-close":"el-icon-circle-check"}),t("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.delcateList(i)}}},[e._v(" 删除 ")])],1)}}])}),t("br"),t("el-pagination",{attrs:{"current-page":e.queryinfo.pagenum,"page-sizes":[5,10,20],"page-size":5,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"请选择要在哪个目录添加",visible:e.addcate_Visible,width:"50%"},on:{"update:visible":function(t){e.addcate_Visible=t}}},[e.addcate_Visible?t("Addcate",{on:{showaddcatedilog:e.showaddcatedilog}}):e._e()],1)],1)},c=[],s=a(886),n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"addcate"},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.addcate_Form,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"旗下"}},[t("el-cascader",{attrs:{clearable:"",size:"medium",options:e.options,props:e.Props},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1),t("el-form-item",{attrs:{label:"分类名称",prop:"name"}},[t("el-input",{model:{value:e.addcate_Form.cat_name,callback:function(t){e.$set(e.addcate_Form,"cat_name",t)},expression:"addcate_Form.cat_name"}})],1)],1),t("el-row",{attrs:{type:"flex",justify:"end"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.addcateList}},[e._v("确 定")])],1)],1)},l=[],r={components:{},name:"addcate",props:[],data(){return{addcate_Form:{cat_name:"",cat_pid:0,cat_level:0},value:[],options:[],Props:{label:"cat_name",value:"cat_id",children:"children",checkStrictly:!0}}},methods:{async addcateList(){try{this.value.length>0?(this.addcate_Form.cat_pid=this.value[this.value.length-1],this.addcate_Form.cat_level=this.value.length):(this.addcate_Form.cat_pid=0,this.addcate_Form.cat_level=0),await(0,s.Tj)(this.addcate_Form),this.$emit("showaddcatedilog",!1)}catch(e){}},async getcateList(){this.options=await(0,s.c5)({type:2})}},computed:{},watch:{},created(){this.getcateList()},mounted(){}},d=r,o=a(1001),u=(0,o.Z)(d,n,l,!1,null,null,null),h=u.exports,p={components:{Addcate:h},name:"goods_cate",props:[],data(){return{addcate_Visible:!1,cateList:[],defProps:{children:"children",label:"cat_name"},queryinfo:{type:"",pagenum:1,pagesize:5},total:0}},methods:{async delcateList(e){try{await(0,s.xu)(e.cat_id),this.getcateList()}catch(t){}},showaddcatedilog(e){this.addcate_Visible=e,this.getcateList()},handleSizeChange(e){this.queryinfo.pagesize=e,this.getcateList()},handleCurrentChange(e){this.queryinfo.pagenum=e,this.getcateList()},async getcateList(){let e=await(0,s.c5)(this.queryinfo);this.cateList=e.result,this.total=e.total}},computed:{},watch:{},created(){this.getcateList()},mounted(){}},m=p,_=(0,o.Z)(m,i,c,!1,null,null,null),g=_.exports},886:function(e,t,a){a.d(t,{Tj:function(){return s},c5:function(){return c},xu:function(){return n}});var i=a(8365);function c(e={}){return(0,i.Z)({method:"GET",url:"/categories",params:e})}function s(e){return(0,i.Z)({method:"post",url:"/categories",data:e})}function n(e){return(0,i.Z)({method:"delete",url:`/categories/${e}`})}}}]);
//# sourceMappingURL=272.d21dc46e.js.map