"use strict";(self["webpackChunkadminsys"]=self["webpackChunkadminsys"]||[]).push([[360],{1360:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login-container"},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:12}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"avatar"},[t("el-image",{staticStyle:{width:"120px",height:"120px","border-radius":"50%"},attrs:{lazy:""}})],1),t("el-form",{ref:"loginfromRef",attrs:{model:e.logininfo,rules:e.rules}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{model:{value:e.logininfo.username,callback:function(t){e.$set(e.logininfo,"username",t)},expression:"logininfo.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{model:{value:e.logininfo.password,callback:function(t){e.$set(e.logininfo,"password",t)},expression:"logininfo.password"}})],1),t("el-from-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.uigomain}},[e._v("登录")]),t("el-button",{attrs:{type:"info"},on:{click:e.reset}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},o=[],s=(r(7658),r(2900)),i={components:{},name:"login",props:[],data(){return{logininfo:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,max:10,message:"长度在 3 到 10 个字符",trigger:"blur"}]}}},methods:{reset(){this.$refs.loginfromRef.resetFields()},async uigomain(){try{await new Promise(((e,t)=>{this.$refs.loginfromRef.validate((r=>{r||t("用户名输入不合法"),this.$storage.remove("token"),e(r)}))}));let e=await(0,s.UO)(this.logininfo);this.$storage.set("token",e.token),this.$router.push("/home")}catch(e){this.$storage.remove("token")}}},computed:{},watch:{},created(){this.$storage.clear()},mounted(){}},u=i,a=r(1001),l=(0,a.Z)(u,n,o,!1,null,null,null),c=l.exports},2900:function(e,t,r){r.d(t,{$V:function(){return l},H8:function(){return a},UO:function(){return o},Yg:function(){return s},eM:function(){return u},nk:function(){return c},qS:function(){return i},rN:function(){return m},rZ:function(){return f}});var n=r(8365);function o(e){return(0,n.Z)({method:"POST",url:"/login",data:e})}function s(){return(0,n.Z)({method:"GET",url:"/menus"})}function i(e){return(0,n.Z)({method:"get",url:"/users",params:e})}function u(e,t){return(0,n.Z)({method:"PUT",url:`users/${e}/state/${t}`})}function a(e){return(0,n.Z)({method:"post",url:"/users",data:e})}function l(e){return(0,n.Z)({method:"get",url:`users/${e}`})}function c(e){return(0,n.Z)({method:"PUT",url:`users/${e.id}`,data:e})}function f(e){return(0,n.Z)({method:"delete",url:`users/${e}`})}function m(e,t){return(0,n.Z)({method:"PUT",url:`users/${e}/role`,data:{rid:t}})}}}]);
//# sourceMappingURL=360.6f0bf211.js.map